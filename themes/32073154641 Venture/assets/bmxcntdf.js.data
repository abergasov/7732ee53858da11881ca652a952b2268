var bmx_cndfData={"rc_images":"on","rc_links":"on","rc_input":"on","rc_text":"on","dd_images":"on","dd_text":"on","ts_images":"on","ts_text":"on","right_action":"custommenu","link_right_val":{"1544528740887":{"tt":"Example title","vl":"dfsdsf"}},"hk_list":["a","c","v","u"]};var bmx_body=document.getElementsByTagName('body')[0],contextMenu='';initDefender();function initDefender(){if(bmx_cndfData.right_action){injectCustumMenu()}initOtherDefenderOptions()}function initOtherDefenderOptions(){if(!bmx_cndfData){return false}if(bmx_cndfData.rc_images==='on'||bmx_cndfData.rc_links==='on'||bmx_cndfData.rc_input==='on'||bmx_cndfData.rc_text==='on'){window.oncontextmenu=function(e){var targetType=detectType(e);if((bmx_cndfData.rc_images==='on'&&targetType=='img')||(bmx_cndfData.rc_links==='on'&&targetType=='link')||(bmx_cndfData.rc_input==='on'&&targetType=='input')||(bmx_cndfData.rc_text==='on'&&targetType=='text')){e.preventDefault();return false}if(bmx_cndfData.right_action){injectCustumMenu()}};function detectType(e){for(var i=0;i<e.path.length;++i){if(e.path[i].tagName==='A'){return'link'}else if(e.path[i].tagName==='IMG'||e.path[i].tagName==='svg'){return'img'}}if(['[object HTMLTextAreaElement]','[object HTMLInputElement]'].indexOf(e.target.toString())!==-1){return'input'}else if(e.target.lastChild.toString().toLowerCase().indexOf('text')!==-1&&e.target.lastChild.textContent.trim().length>0){return"text"}}}if(bmx_cndfData.dd_images==='on'||bmx_cndfData.dd_text==='on'){document.addEventListener('dragstart',function(e){if(bmx_cndfData.dd_images==='on'&&bmx_cndfData.dd_text==='on'){e.preventDefault();return false}else if(bmx_cndfData.dd_text==='on'){if(target=e.target.toString().toLowerCase().indexOf('text')!==-1){e.preventDefault();return false}}else{if(target=e.target.toString().indexOf('text')===-1){e.preventDefault();return false}}})}if(bmx_cndfData.ts_images==='on'||bmx_cndfData.ts_text==='on'){document.addEventListener('onselect',disableSelect);document.addEventListener("select",disableSelect);document.addEventListener("selectionchange",disableSelect);document.addEventListener("selectstart",disableSelect);function disableSelect(e){if(bmx_cndfData.ts_images==='on'&&['textarea','search','text'].indexOf(e.target.type)===-1){e.preventDefault();return false}if(bmx_cndfData.ts_text==='on'&&['textarea','search','text'].indexOf(e.target.type)!==-1){e.target.selectionStart=e.target.selectionEnd;return false}}}if(bmx_cndfData.hk_list.length>0){window.onkeydown=function(e){if(e.ctrlKey||e.metaKey){if(bmx_cndfData.hk_list.indexOf(getKeyCode(e))!==-1){e.preventDefault()}}};function getKeyCode(event){var keyVal='';if(event.key!==undefined){keyVal=event.key}else if(event.keyIdentifier!==undefined){keyVal=event.keyIdentifier}else if(event.keyCode!==undefined){keyVal=event.keyCode}return keyVal.toLowerCase()}}}function showContextMenu(event){if(bmx_cndfData.right_action==='link'){window.open(bmx_cndfData.link_right_val_url,'_blank');return false}var left=event.clientX!==event.pageX?event.pageX:event.clientX;var top=event.clientY!==event.pageY?event.pageY:event.clientY;contextMenu.style.display='block';contextMenu.style.left=left+contextMenu.offsetWidth>bmx_body.clientWidth?contextMenu.style.left=left-contextMenu.offsetWidth-10+'px':contextMenu.style.left=left+'px';console.log(event);if(top+contextMenu.offsetHeight>bmx_body.clientHeight){contextMenu.style.top=top-contextMenu.offsetHeight+'px'}else{contextMenu.style.top=top+'px'}return false}function generateCustomContextMenu(){window.onclick=hideContextMenu;window.onkeydown=listenKeys;contextMenu=document.getElementById('bmx_contextMenu');window.oncontextmenu=showContextMenu;function hideContextMenu(){contextMenu.style.display='none'}function listenKeys(event){var keyCode=event.which||event.keyCode;if(keyCode==27){hideContextMenu()}}}function injectCustumMenu(){var div=document.createElement('div');div.className="bmx_context-menu";div.id="bmx_contextMenu";div.style.cssText="z-index:2147483647;background:#f6f6f6;display:none;min-width:200px;height:auto;box-shadow: 0 0 20px 0 #ccc;position:absolute;display:none;";var separatorStyle='style="height: 1px;background: #dedede;margin: 2px 0px 2px 0px;"';var elMenStyle='style="padding: 10px 5px 10px 5px;border-left: 4px solid transparent;cursor: pointer;"';var html='';if(bmx_cndfData.right_action==='custommenu'){html='<ul style="list-style:none;padding:0;margin-bottom:0px;">';for(var key in bmx_cndfData.link_right_val){if(bmx_cndfData.link_right_val.hasOwnProperty(key)){html+='<li '+elMenStyle+'><a target="_blank" href="'+bmx_cndfData.link_right_val[key].vl+'">'+bmx_cndfData.link_right_val[key].tt+'</a></li><li '+separatorStyle+'></li>'}}html+='</ul>'}else if(bmx_cndfData.right_action==='tooltip'){html='<span style="line-height:25px;">'+bmx_cndfData.Tooltip_text+'</span>'}else if(bmx_cndfData.right_action==='link'){}div.innerHTML=html;bmx_body.appendChild(div);generateCustomContextMenu()}document.addEventListener('copy',function(e){e.clipboardData.setData('text/plain','1');e.clipboardData.setData('text/html','1');e.preventDefault()});