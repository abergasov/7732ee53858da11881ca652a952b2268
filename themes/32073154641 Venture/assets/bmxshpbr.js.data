const barData={"achived_msg":"Congratulations! You've got free shipping","all_with_val":"","all_with_val_h":"","animate":"none","animate_infinite":"on","animate_init":"on","animate_progress":"on","animate_confirm":"on","animate_loop_delay":"2","animate_speed":"2","backImg":"none","background_color":"#000001","bar_padding":"12","bar_showhide":"2","currency_symbol":"USD","device":"all_dm","font":"Montserrat","font_size":"16","initial_msg":"Free shipping for orders over","initial_msg_additional":"or more","onlyurl_val":"","onlyurl_val_h":"","opacity":"1","pages":"all","pages_hide":"none","position":"top","price_limit":"100","progress_msg":"Only","progress_msg_additional":"away from free shipping","special_text_color":"#ffffff","status":"1","text_color":"#ffffff","link_on":"on","link_str":"ssdas","link_blank":"on","link_close_btn":true};let already_run=false,cart_total_price=0,animator,record;let bmxJq;if("undefined"===typeof jQuery){let headTag=document.getElementsByTagName("head")[0],jqTag=document.createElement("script");jqTag.type="text/javascript",jqTag.src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",jqTag.onload=bar_init,headTag.appendChild(jqTag)}else setTimeout(bar_init,100);function is_mobile(){let s=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(s=!0),s}function bar_init(){let barClosed=readStorageData('bmxshb_bar_closed');if(shoWHideOnPage()===false){return false}if(barClosed!==true){if(barData.device==='all_dm'||(!is_mobile()&&barData.device==='desktop')||(is_mobile()&&barData.device==='mobile')){bmxJq=jQuery.noConflict();injectAnimate();check_cart()}}else{console.log('user close shipping bar')}}function shoWHideOnPage(){if(barData.pages==='all'&&barData.pages_hide==='none'){return true}else if(window.location.pathname==='/'){return barData.pages==='home'&&barData.pages_hide!=='hone_h'}else{let u=window.location.href;if(barData.pages==='onlyurl'&&barData.onlyurl_val===u){return true}else if(barData.pages_hide==='onlyurl_h'&&barData.onlyurl_val_h===u){return false}else if(barData.pages==='all_with'){let keyWords=new RegExp(barData.all_with_val.replace(',','|'),'i');return!!u.match(keyWords)}else if(barData.pages_hide==='all_with_h'){let keyWords=new RegExp(barData.all_with_val.replace(',','|'),'i');return!u.match(keyWords)}else{return false}}}function check_cart(){bmxJq.ajax({dataType:"json",url:"/cart.json",success:function(s){cart_total_price=s.total_price/100;render_bar();console.log('Init bar, cart total price is:',cart_total_price)}});bmxJq(document).ajaxSuccess(function(s,e,b){if(bmxJq.inArray(b.url,['/cart/clear.js','/cart/add.js','/cart/change.js','/cart.js','/cart/update.js'])!==-1){if(already_run!==true){bmxJq('#bmxshb_container').remove();render_bar()}}})}function render_bar(){clearInterval(animator);already_run=true;let priceLimit=parseFloat(barData.price_limit);let barText='';load_font(barData.font);let messageType='achived';if(cart_total_price===0){barText=barData.initial_msg;if(barData.price_limit>0){let addStyle='style="color:'+barData.special_text_color+'"';barText+=' <span '+addStyle+'>'+barData.price_limit+' '+barData.currency_symbol+'</span>'}if(barData.initial_msg_additional){barText+=' '+barData.initial_msg_additional}messageType='init'}else if(priceLimit>cart_total_price){barText=barData.progress_msg;if(barData.price_limit>0){let diff=parseFloat(priceLimit-cart_total_price);let addStyle='style="color:'+barData.special_text_color+'"';barText+=' <span '+addStyle+'>'+diff+' '+barData.currency_symbol+'</span>'}if(barData.progress_msg_additional){barText+=' '+barData.progress_msg_additional}messageType='progress'}else{barText=barData.achived_msg}if(barData.animate!=='none'){let animateThis=false;if((messageType==='init'&&barData.animate_init==='on')||(messageType==='progress'&&barData.animate_progress==='on')||(messageType==='achived'&&barData.animate_confirm==='on')){animateThis=true}if(animateThis===true){let animateClass='animated '+barData.animate;if(barData.animate_infinite==='on'){animator=window.setInterval(animateBlock,parseInt(barData.animate_loop_delay)*1000)}let dur=barData.animate_speed;let cssParams=['animation-duration: '+dur+'s','-moz-animation-duration: '+dur+'s','-ms-animation-duration: '+dur+'s','-webkit-animation-duration: '+dur+'s',];barText='<div id="bmxshb_animateBlock" class="'+animateClass+'" style="'+cssParams.join(';')+'">'+barText+'</div>'}}bmxJq("body").append('<div id="bmxshb_container" style="display:block;color:inherit;"></div>');let barOnclick='';if(barData.link_on==='on'&&barData.link_str){barOnclick='onclick="window.open(\''+barData.link_str+'\', \'_blank\')"'}let barCloseButton='';if(barData.link_close_btn){barCloseButton='<div><a id="bmxshb_close" style="position:absolute; right:8px; top:50%; transform:translateY(-50%); font-family:Helvertical, Arial, sans-serif; font-weight:bold; font-size:18px; text-decoration: none;" href="javascript:close_bmxshb_bar()">X</a></div>'}let barBackkgroundStyle='style="'+setBarPosition()+'"';let barDataStyle='style="'+setBarBackground()+'"';bmxJq('#bmxshb_container').append('<div id="bmxshb_background" '+barOnclick+' '+barBackkgroundStyle+'>'+'<div id="bmxshb_bar" '+barDataStyle+'>'+barText+'</div>'+barCloseButton+'</div>');let h=bmxJq("#bmxshb_bar").outerHeight(true);bmxJq("#bmxshb_background").css("height",h);bmxJq("#bmxshb_background").css("display",'none');if(barData.position==='top'||barData.position==='top_visible'){bmxJq("body").css("paddingTop",h)}console.log('init this');bmxJq('#bmxshb_background').animate({opacity:barData.opacity},barData.bar_showhide*1000,function(){already_run=false});bmxJq("#bmxshb_background").css("display",'block')}function close_bmxshb_bar(){bmxJq('#bmxshb_container').hide(barData.bar_showhide*1000);writeStorageData('bmxshb_bar_closed',true)}function readStorageData(el){try{return sessionStorage.getItem(el)}catch(e){return null}}function writeStorageData(el,val){try{sessionStorage.setItem(el,val)}catch(s){return false}}function setBarPosition(){if(barData.position==='top'||barData.position==='top_cover'){return'opacity:0;margin:0px;padding:0px;left:0px;width:100%;z-index:100000;top:0px;position:absolute;'}else if(barData.position==='top_visible'||barData.position==='top_cover_visible'){return'opacity:0;margin:0px;padding:0px;left:0px;width:100%;z-index:100000;top:0px;position:fixed;'}else if(barData.position==='bottom'){return'opacity:0;margin:0px;padding:0px;left:0px;width:100%;z-index: 100000;bottom:0px;position:fixed;'}}function setBarBackground(){let backImg='';if(barData.backImg!=='no_bcgrnd'){backImg='background-image: url('+barData.backImg+');'}return backImg+'background-color:'+barData.background_color+';color:'+barData.text_color+';font-size:'+barData.font_size+'px;line-height:'+(1.25*parseFloat(barData.font_size))+'px;font-family:'+barData.font.replace(/\+/g," ")+';text-align:center;margin:0px;padding:'+barData.bar_padding+'px;left:0px;height:auto;width:100%;box-sizing:border-box;border:none;position:absolute;'}function load_font(font_name){let font=font_name.replace(/\s/g,"+");font=font.replace(/_/g,'+');let s=document.createElement("link"),e=document.getElementsByTagName("head")[0];s.setAttribute("href","https://fonts.googleapis.com/css?family="+font),s.setAttribute("type","text/css"),s.setAttribute("rel","stylesheet"),e.insertBefore(s,e.firstChild)}function getScriptParams(){for(let s=document.getElementsByTagName("script"),e=0;e<s.length;e++){if(s[e].src.indexOf("bmxshpbr")>-1){return parseInt(s[e].src.substring(s[e].src.indexOf("shp=")+4,s[e].src.length))}}return false}function injectAnimate(){if(barData.animate!=='none'){for(let s=document.getElementsByTagName("link"),e=0;e<s.length;e++){if(s[e].href.indexOf('animate.min.css')>-1){return e}}let s=document.createElement("link"),e=document.getElementsByTagName("head")[0];s.setAttribute("href","https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"),s.setAttribute("type","text/css"),s.setAttribute("rel","stylesheet"),e.insertBefore(s,e.firstChild)}}function animateBlock(){bmxJq('#bmxshb_animateBlock').removeClass('animated '+barData.animate).delay(1000).queue(function(next){bmxJq(this).addClass('animated '+barData.animate);next()})}